generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Genero {
  id        Int      @id @default(autoincrement())
  nome      String   @unique
  filmes    stream[]
  streamDBs StreamDB[]
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("GÃªneros")
}

model stream {
  id             Int      @id @default(autoincrement())
  nome           String
  descricao      String
  classificacao  String
  anoLancamento  Int
  generoId       Int
  genero         Genero   @relation(fields: [generoId], references: [id])
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt

  @@map("Stream")
}

model Comentario {
  id                Int      @id @default(autoincrement())
  idFilmeCard       String   @map("id_filme_card") 
  nomeUsuario       String   @map("nome_usuario") 
  textoComentario   String   @map("texto_comentario")
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt

  @@map("Comentarios")
}

model StreamDB {
  id              Int      @id @default(autoincrement())
  nome            String   @unique
  generoId        Int?
  genero          Genero?  @relation(fields: [generoId], references: [id])
  descricao       String
  elenco          String?
  classificacao   String
  anoLancamento   Int
  cardCapa        String
  video           String? 
  logo            String? 
  poster          String? 
  fundo           String? 

  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt

  @@map("StreamDB")
}